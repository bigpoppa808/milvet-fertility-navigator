import{j as e}from"./ui-Db5bRdDi.js";import{r as s}from"./router-BKJR1vSY.js";import{u as r,s as a,c as t,a as l,F as i}from"./index-Czm5Afhy.js";import{a as n,F as o}from"./EyeIcon-Cf9vUeTR.js";import{m as d}from"./animations-VixCDSC1.js";import{a as c,F as m}from"./GlobeAltIcon-CbD8Wi17.js";import"./vendor-D1VVuCdH.js";import"./supabase-BFTN-V_O.js";import"./query-wqeBDHbW.js";function u({title:e,titleId:r,...a},t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const x=s.forwardRef(u);function h({title:e,titleId:r,...a},t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const p=s.forwardRef(h);function b({title:e,titleId:r,...a},t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const g=s.forwardRef(b);function y({title:e,titleId:r,...a},t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const f=s.forwardRef(y);function j({title:e,titleId:r,...a},t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const v=s.forwardRef(j);function N({title:e,titleId:r,...a},t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const w=s.forwardRef(N),_=["Army","Navy","Air Force","Marines","Space Force","Coast Guard"],k=["Active Duty","Reserve","National Guard","Veteran","Retired","Spouse/Dependent"],C=["E-1","E-2","E-3","E-4","E-5","E-6","E-7","E-8","E-9","W-1","W-2","W-3","W-4","W-5","O-1","O-2","O-3","O-4","O-5","O-6","O-7","O-8","O-9","O-10"],E=["East","West","Overseas","Reserve Select","Retired Reserve"],S=["Public","Military Community Only","Private"],P=["Email","SMS","Both"];function O(){const{user:u,updateProfile:h}=r(),[b,y]=s.useState("profile"),[j,N]=s.useState(!0),[O,A]=s.useState(!1),[L,F]=s.useState(!1),[R,M]=s.useState(!1),[I,W]=s.useState({full_name:"",email:"",service_branch:"",service_status:"",pay_grade:"",duty_location:"",disability_rating:null,tricare_region:"",spouse_enrolled:!1,family_size:null,privacy_level:"Military Community Only",phone_number:"",preferred_contact:"Email"}),[D,z]=s.useState({email_notifications:!0,sms_notifications:!1,legislation_alerts:!0,funding_alerts:!0,community_updates:!0,weekly_digest:!0}),[T,B]=s.useState({current_password:"",new_password:"",confirm_password:""});s.useEffect(()=>{u&&G()},[u]);const G=async()=>{if(u)try{const{data:e,error:s}=await a.from("profiles").select("*").eq("user_id",u.id).maybeSingle();s&&"PGRST116"!==s.code?console.error("Error loading profile:",s):W(e?{full_name:e.full_name||"",email:u.email||"",service_branch:e.service_branch||"",service_status:e.service_status||"",pay_grade:e.pay_grade||"",duty_location:e.duty_location||"",disability_rating:e.disability_rating,tricare_region:e.tricare_region||"",spouse_enrolled:e.spouse_enrolled||!1,family_size:e.family_size,privacy_level:e.privacy_level||"Military Community Only",phone_number:e.phone_number||"",preferred_contact:e.preferred_contact||"Email"}:e=>({...e,email:u.email||""}))}catch(e){console.error("Error loading profile data:",e)}finally{N(!1)}};if(j)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})});const V=[{id:"profile",name:"Profile Information",icon:w},{id:"notifications",name:"Notifications",icon:l},{id:"security",name:"Security",icon:v},{id:"privacy",name:"Privacy",icon:n}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile Settings"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your account information, preferences, and privacy settings."})]}),R&&e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>{M(!1),G()},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(t,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs("button",{onClick:async()=>{if(u){A(!0);try{const e={user_id:u.id,full_name:I.full_name,service_branch:I.service_branch,service_status:I.service_status,pay_grade:I.pay_grade,duty_location:I.duty_location,disability_rating:I.disability_rating,tricare_region:I.tricare_region,spouse_enrolled:I.spouse_enrolled,family_size:I.family_size,privacy_level:I.privacy_level,phone_number:I.phone_number,preferred_contact:I.preferred_contact,updated_at:(new Date).toISOString()},{error:s}=await a.from("profiles").upsert(e,{onConflict:"user_id"});if(s)throw s;h({full_name:e.full_name,service_branch:e.service_branch,service_status:e.service_status}),M(!1),alert("Profile updated successfully!")}catch(e){console.error("Error saving profile:",e),alert("Failed to update profile. Please try again.")}finally{A(!1)}}},disabled:O,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),O?"Saving...":"Save Changes"]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex gap-8",children:[e.jsx("div",{className:"w-64 flex-shrink-0",children:e.jsx("nav",{className:"space-y-1",children:V.map(s=>{const r=s.icon;return e.jsxs("button",{onClick:()=>y(s.id),className:"w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors "+(b===s.id?"bg-blue-50 text-blue-700 border-r-2 border-blue-500":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[e.jsx(r,{className:"h-5 w-5 mr-3"}),s.name]},s.id)})})}),e.jsxs("div",{className:"flex-1",children:["profile"===b&&e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"}),!R&&e.jsxs("button",{onClick:()=>M(!0),className:"inline-flex items-center px-3 py-1 text-sm font-medium text-blue-600 hover:text-blue-700",children:[e.jsx(f,{className:"h-4 w-4 mr-1"}),"Edit"]})]})}),e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:I.full_name||"",onChange:e=>W(s=>({...s,full_name:e.target.value})),disabled:!R,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:I.email||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed here. Contact support if needed."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Branch"}),e.jsxs("select",{value:I.service_branch||"",onChange:e=>W(s=>({...s,service_branch:e.target.value})),disabled:!R,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[e.jsx("option",{value:"",children:"Select branch"}),_.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Status"}),e.jsxs("select",{value:I.service_status||"",onChange:e=>W(s=>({...s,service_status:e.target.value})),disabled:!R,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[e.jsx("option",{value:"",children:"Select status"}),k.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pay Grade"}),e.jsxs("select",{value:I.pay_grade||"",onChange:e=>W(s=>({...s,pay_grade:e.target.value})),disabled:!R,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[e.jsx("option",{value:"",children:"Select pay grade"}),C.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duty Location"}),e.jsx("input",{type:"text",value:I.duty_location||"",onChange:e=>W(s=>({...s,duty_location:e.target.value})),disabled:!R,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"e.g., Fort Bragg, NC"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"VA Disability Rating (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:I.disability_rating||"",onChange:e=>W(s=>({...s,disability_rating:e.target.value?parseInt(e.target.value):null})),disabled:!R,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"Enter percentage (0-100)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"TRICARE Region"}),e.jsxs("select",{value:I.tricare_region||"",onChange:e=>W(s=>({...s,tricare_region:e.target.value})),disabled:!R,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[e.jsx("option",{value:"",children:"Select region"}),E.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Family Size"}),e.jsx("input",{type:"number",min:"1",value:I.family_size||"",onChange:e=>W(s=>({...s,family_size:e.target.value?parseInt(e.target.value):null})),disabled:!R,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"Number of family members"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:I.phone_number||"",onChange:e=>W(s=>({...s,phone_number:e.target.value})),disabled:!R,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"(555) 123-4567"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"spouse_enrolled",checked:I.spouse_enrolled,onChange:e=>W(s=>({...s,spouse_enrolled:e.target.checked})),disabled:!R,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 disabled:opacity-50"}),e.jsx("label",{htmlFor:"spouse_enrolled",className:"ml-2 text-sm text-gray-700",children:"Spouse is enrolled in TRICARE"})]})})]})})]}),"notifications"===b&&e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow border border-gray-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notification Preferences"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Choose how you want to receive updates and alerts about fertility benefits and legislation."})]}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:"Contact Methods"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"email_notifications",checked:D.email_notifications,onChange:e=>z(s=>({...s,email_notifications:e.target.checked})),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"email_notifications",className:"ml-3 flex items-center",children:[e.jsx(c,{className:"h-4 w-4 mr-2 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Email notifications"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"sms_notifications",checked:D.sms_notifications,onChange:e=>z(s=>({...s,sms_notifications:e.target.checked})),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"sms_notifications",className:"ml-3 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-2 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-700",children:"SMS notifications"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:"Alert Types"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"legislation_alerts",checked:D.legislation_alerts,onChange:e=>z(s=>({...s,legislation_alerts:e.target.checked})),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"legislation_alerts",className:"ml-3",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Legislation and policy updates"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Get notified about new bills and policy changes affecting military fertility benefits"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"funding_alerts",checked:D.funding_alerts,onChange:e=>z(s=>({...s,funding_alerts:e.target.checked})),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"funding_alerts",className:"ml-3",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Funding opportunities"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Alerts about new grants, discounts, and financial assistance programs"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"community_updates",checked:D.community_updates,onChange:e=>z(s=>({...s,community_updates:e.target.checked})),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"community_updates",className:"ml-3",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Community updates"}),e.jsx("p",{className:"text-xs text-gray-500",children:"New discussions, expert AMAs, and community events"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"weekly_digest",checked:D.weekly_digest,onChange:e=>z(s=>({...s,weekly_digest:e.target.checked})),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"weekly_digest",className:"ml-3",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Weekly digest"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Summary of the week's most important updates and discussions"})]})]})]})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsx("button",{onClick:()=>alert("Notification settings saved!"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Save Notification Settings"})})]})]}),"security"===b&&e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Change Password"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update your password to keep your account secure."})]}),e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"max-w-md space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:L?"text":"password",value:T.current_password,onChange:e=>B(s=>({...s,current_password:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>F(!L),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:L?e.jsx(o,{className:"h-5 w-5"}):e.jsx(n,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:"password",value:T.new_password,onChange:e=>B(s=>({...s,new_password:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:T.confirm_password,onChange:e=>B(s=>({...s,confirm_password:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("button",{onClick:async()=>{if(T.new_password===T.confirm_password)if(T.new_password.length<6)alert("Password must be at least 6 characters long");else{A(!0);try{const{error:e}=await a.auth.updateUser({password:T.new_password});if(e)throw e;B({current_password:"",new_password:"",confirm_password:""}),alert("Password updated successfully!")}catch(e){console.error("Error changing password:",e),alert("Failed to change password. Please try again.")}finally{A(!1)}}else alert("New passwords do not match")},disabled:O||!T.new_password||!T.confirm_password,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),O?"Updating...":"Change Password"]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow border border-red-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-red-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-red-900",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Permanently delete your account and all associated data. This action cannot be undone."})]}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(i,{className:"h-5 w-5 text-red-400"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Warning"}),e.jsxs("div",{className:"mt-2 text-sm text-red-700",children:[e.jsx("p",{children:"This will permanently:"}),e.jsxs("ul",{className:"list-disc list-inside mt-1",children:[e.jsx("li",{children:"Delete your profile and account data"}),e.jsx("li",{children:"Remove you from community discussions"}),e.jsx("li",{children:"Cancel all notification subscriptions"}),e.jsx("li",{children:"Delete your saved applications and scenarios"})]})]})]})]})}),e.jsx("button",{onClick:async()=>{if(confirm("Are you sure you want to delete your account? This action cannot be undone.")&&confirm('This will permanently delete all your data. Type "DELETE" to confirm this action.'))try{await a.auth.signOut(),alert("Account deletion requested. Please contact support to complete the process.")}catch(e){console.error("Error deleting account:",e),alert("Failed to delete account. Please contact support.")}},className:"inline-flex items-center px-4 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50",children:"Delete My Account"})]})]})]}),"privacy"===b&&e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow border border-gray-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Privacy Settings"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Control your privacy and data sharing preferences."})]}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Visibility"}),e.jsx("select",{value:I.privacy_level||"Military Community Only",onChange:e=>W(s=>({...s,privacy_level:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:S.map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Controls who can see your profile information in community discussions."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Contact Method"}),e.jsx("select",{value:I.preferred_contact||"Email",onChange:e=>W(s=>({...s,preferred_contact:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:P.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(v,{className:"h-5 w-5 text-blue-400"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Data Protection"}),e.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[e.jsx("p",{children:"Your data is protected and used only to:"}),e.jsxs("ul",{className:"list-disc list-inside mt-1",children:[e.jsx("li",{children:"Provide personalized fertility benefit recommendations"}),e.jsx("li",{children:"Send relevant policy and funding alerts"}),e.jsx("li",{children:"Improve our services for military families"})]}),e.jsx("p",{className:"mt-2",children:"We never share your personal information with third parties without your explicit consent."})]})]})]})})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsxs("button",{onClick:()=>alert("Privacy settings saved!"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"Save Privacy Settings"]})})]})]})]})]})})]})}export{O as ProfileSettingsPage};
