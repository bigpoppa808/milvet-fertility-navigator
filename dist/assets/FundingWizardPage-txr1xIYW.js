import{j as e}from"./ui-Db5bRdDi.js";import{r as t}from"./router-BKJR1vSY.js";import{s as i,F as r}from"./index-Czm5Afhy.js";import{F as s}from"./CheckCircleIcon-B7Ah90hp.js";import{m as a,A as n}from"./animations-VixCDSC1.js";import{F as o}from"./CurrencyDollarIcon-Dr9DYLe_.js";import{F as l}from"./ArrowTopRightOnSquareIcon-9OT3nt5t.js";import{F as d}from"./DocumentTextIcon-C2wc7GEG.js";import"./vendor-D1VVuCdH.js";import"./supabase-BFTN-V_O.js";import"./query-wqeBDHbW.js";function c({title:e,titleId:i,...r},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":i},r),e?t.createElement("title",{id:i},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const m=t.forwardRef(c);function u({title:e,titleId:i,...r},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":i},r),e?t.createElement("title",{id:i},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const x=t.forwardRef(u),g=[{id:"serviceBranch",title:"What is your service branch?",type:"select",options:["Army","Navy","Air Force","Marines","Coast Guard","Space Force"],required:!0},{id:"serviceStatus",title:"What is your current service status?",type:"select",options:["Active Duty","Reserve","National Guard","Veteran","Spouse/Dependent"],required:!0},{id:"disabilityRating",title:"Do you have a VA disability rating? (Veterans only)",type:"select",options:["No rating","0%","10-30%","40-60%","70-90%","100%","Not applicable"],required:!1},{id:"marriageStatus",title:"What is your current marriage status?",type:"select",options:["Married","Single","Divorced","Widowed","Domestic Partnership"],required:!0},{id:"state",title:"What state do you currently reside in?",type:"select",options:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming","Other/Overseas"],required:!0},{id:"fertilityStage",title:"Where are you in your fertility journey?",type:"select",options:["Just starting to try","Trying for 6+ months","Trying for 1+ years","Diagnosed with infertility","Currently in treatment","Considering treatment options"],required:!0},{id:"treatmentType",title:"What type of fertility treatment are you considering?",type:"select",options:["Not sure yet","Fertility testing/diagnosis","Ovulation induction","Intrauterine Insemination (IUI)","In Vitro Fertilization (IVF)","Fertility preservation","Third-party reproduction (donor/surrogacy)"],required:!0},{id:"householdIncome",title:"What is your approximate household income?",type:"select",options:["Under $30,000","$30,000 - $50,000","$50,000 - $75,000","$75,000 - $100,000","$100,000 - $150,000","Over $150,000","Prefer not to say"],required:!1}];function h(){const[c,u]=t.useState(0),[h,y]=t.useState({}),[f,p]=t.useState([]),[b,j]=t.useState([]),[w,N]=t.useState(!1),[v,C]=t.useState(!1);t.useEffect(()=>{_()},[]);const _=async()=>{try{const{data:e,error:t}=await i.from("funding_sources").select("*").eq("is_active",!0).order("name");t?console.error("Error fetching funding sources:",t):p(e||[])}catch(e){console.error("Error:",e)}},k=async()=>{N(!0);let e=[...f];"Veteran"===h.serviceStatus&&"No rating"!==h.disabilityRating&&(e=e.filter(e=>e.name.toLowerCase().includes("veteran")||e.name.toLowerCase().includes("viva")||e.organization?.toLowerCase().includes("veteran")));const t=f.filter(e=>e.name.toLowerCase().includes("military")||e.name.toLowerCase().includes("operation")||e.eligibility_criteria?.toLowerCase().includes("military")),i=f.filter(e=>!e.name.toLowerCase().includes("military")&&!e.name.toLowerCase().includes("veteran")),r=[...new Set([...e,...t,...i])];j(r.slice(0,8)),C(!0),N(!1)},S=()=>{u(0),y({}),C(!1),j([])},I=(c+1)/g.length*100;if(v)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(s,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 sm:text-4xl",children:"Your Personalized Funding Recommendations"}),e.jsx("p",{className:"mt-4 text-lg text-gray-600 max-w-3xl mx-auto",children:"Based on your service status and fertility journey, here are the funding sources and benefits you may be eligible for."})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Found ",b.length," potential funding sources"]}),e.jsx("button",{onClick:S,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Start Over"})]}),e.jsx("div",{className:"grid gap-6 lg:grid-cols-2",children:b.map((t,i)=>e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*i},className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.name}),t.organization&&e.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:t.organization}),t.description&&e.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),(t.funding_amount_min||t.funding_amount_max)&&e.jsx("div",{className:"mb-4",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[e.jsx(o,{className:"h-4 w-4 mr-1"}),t.funding_amount_min&&t.funding_amount_max?`$${t.funding_amount_min.toLocaleString()} - $${t.funding_amount_max.toLocaleString()}`:t.funding_amount_max?`Up to $${t.funding_amount_max.toLocaleString()}`:"Amount varies"]})}),t.eligibility_criteria&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Eligibility:"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.eligibility_criteria})]}),t.application_deadline&&e.jsx("div",{className:"mb-4",children:e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(r,{className:"h-3 w-3 mr-1"}),"Deadline: ",new Date(t.application_deadline).toLocaleDateString()]})}),e.jsxs("div",{className:"flex space-x-3",children:[t.application_url&&e.jsxs("a",{href:t.application_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:["Apply Now",e.jsx(l,{className:"ml-2 h-4 w-4"})]}),e.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:["Save for Later",e.jsx(d,{className:"ml-2 h-4 w-4"})]})]})]})})},t.id))}),0===b.length&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(o,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No specific matches found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Don't worry! There may still be funding options available. Consider consulting with a fertility counselor or contacting organizations directly."}),e.jsx("button",{onClick:S,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Try Again"})]})]})]});if(w)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Generating your recommendations..."})]})});const L=g[c],$=h[L.id],F=!L.required||$;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 sm:text-4xl",children:"Fertility Funding Wizard"}),e.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Answer a few questions to get personalized recommendations for funding sources and benefits."})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[e.jsxs("span",{children:["Question ",c+1," of ",g.length]}),e.jsxs("span",{children:[Math.round(I),"% complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx(a.div,{className:"bg-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:`${I}%`},transition:{duration:.3}})})]})]})}),e.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsx(n,{mode:"wait",children:e.jsxs(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-white rounded-lg shadow border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:L.title}),e.jsx("div",{className:"space-y-3",children:L.options.map(t=>e.jsx("button",{onClick:()=>{return e=L.id,i=t,void y(t=>({...t,[e]:i}));var e,i},className:"w-full text-left p-4 rounded-lg border-2 transition-all "+($===t?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-900",children:t}),$===t&&e.jsx(s,{className:"h-5 w-5 text-blue-500"})]})},t))}),e.jsxs("div",{className:"mt-8 flex justify-between",children:[e.jsxs("button",{onClick:()=>{c>0&&u(c-1)},disabled:0===c,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"Previous"]}),e.jsxs("button",{onClick:()=>{c<g.length-1?u(c+1):k()},disabled:!F,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[c===g.length-1?"Get Recommendations":"Next",e.jsx(x,{className:"h-4 w-4 ml-2"})]})]})]},c)})})]})}export{h as FundingWizardPage};
